---
import HeaderButton from "./HeaderButton.astro";

// Aquí va la parte de js
interface Props {
  title: string;
}
const { title } = Astro.props;
---

<!--Aquí va la parte del componente HTML -->
<header
  id="landing-header"
  class="w-full flex justify-between items-center px-6 py-1 fixed"
>
  <div>
    <!--Tendriamos el logo -->
    <svg
      class="icon icon-tabler icon-tabler-activity"
      width="44"
      height="44"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="#2c3e50"
      fill="none"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
      <path d="M3 12h4l3 8l4 -16l3 8h4"></path>
    </svg>
  </div>
  <nav>
    <ul class="flex text-sm [&>li>a]:px-4 py-2 font-light tracking-widest">
      <li><a href="#">Producto</a></li>
      <li><a href="#">Soluciones</a></li>
      <li><a href="#">Sobre nosotros</a></li>
      <li><a href="#">Recursos</a></li>
      <li><a href="#">Precio</a></li>
    </ul>
  </nav>
  <nav>
    <ul class="flex text-sm [&>li>a]:px-4 py-2 font-light tracking-widest">
      <li><a href="#">Centro de ayuda</a></li>
      <li><a href="#">Iniciar Sesión</a></li>
    </ul>
  </nav>
  <nav>
    <ul class="flex">
      <li>
        <HeaderButton text="¿Hablamos?">
          <svg
            slot="before-text"
            class="icon icon-tabler icon-tabler-phone"
            width="30"
            height="30"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="#2c3e50"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M5 4h4l2 5l-2.5 1.5a11 11 0 0 0 5 5l1.5 -2.5l5 2v4a2 2 0 0 1 -2 2a16 16 0 0 1 -15 -15a2 2 0 0 1 2 -2"
            ></path>
          </svg>
        </HeaderButton>
      </li>
      <li>
        <HeaderButton text="Pruébalo Gratis">
          <svg
            slot="before-text"
            class="icon icon-tabler icon-tabler-wallet-off"
            width="30"
            height="30"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="#2c3e50"
            fill="none"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <path
              d="M17 8v-3a1 1 0 0 0 -1 -1h-8m-3.413 .584a2 2 0 0 0 1.413 3.416h2m4 0h6a1 1 0 0 1 1 1v3"
            ></path>
            <path d="M19 19a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12"></path>
            <path d="M16 12h4v4m-4 0a2 2 0 0 1 -2 -2"></path>
            <path d="M3 3l18 18"></path>
          </svg>
        </HeaderButton>
      </li>
    </ul>
  </nav>
  <div
    id="menu-backdrop"
    class={`
    absolute bg-white/20 backdrop-blur-lg rounded
    translate-x-[var(--left)] translate-y-[var(--top)]
    left-0 top-0
    w-[var(--width)] h-[var(--height)]
    transition-all duration-500
    ease-in-out opacity-0 -z-10
  `}
  >
  </div>
</header>

<style>
  header > nav > ul > li {
    font-family:
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      Oxygen,
      Ubuntu,
      Cantarell,
      "Open Sans",
      "Helvetica Neue",
      sans-serif;
  }
</style>

<script>
  const listItem = document.querySelectorAll("#landing-header li a");
  const menuBackDrop = document.querySelector("#menu-backdrop") as HTMLElement;

  listItem.forEach((item) => {
    item.addEventListener("mouseenter", () => {
      const { left, top, width, height } = item.getBoundingClientRect();

      menuBackDrop.style.setProperty("--left", `${left}px`);
      menuBackDrop.style.setProperty("--top", `${top}px`);
      menuBackDrop.style.setProperty("--width", `${width}px`);
      menuBackDrop.style.setProperty("--height", `${height}px`);

      menuBackDrop.style.opacity = "1";
      menuBackDrop.style.visibility = "visible";
    });

    item.addEventListener("mouseleave", () => {
      menuBackDrop.style.opacity = "0";
      menuBackDrop.style.visibility = "hidden";
    });
  });
</script>
